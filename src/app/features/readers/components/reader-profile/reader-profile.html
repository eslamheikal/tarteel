@if (!isLoading && !error && reader) {
<div class="reader-profile-container">
  <!-- Header Section -->
  <div class="profile-header">
    <div class="profile-image">
      <img [src]="'assets/img/readers/' + reader.imageUrl" 
           [alt]="reader.name" 
           class="reader-photo"
           onerror="this.src='assets/img/readers/default-reader.png'">
    </div>
    <div class="profile-info">
      <h1 class="reader-name">{{ reader.name }}</h1>
      <div class="reader-details">
        @if (reader.age) {
        <div class="detail-item">
          <i class="icon">ğŸ‘¤</i>
          <span>Ø§Ù„Ø¹Ù…Ø±: {{ reader.age }} Ø³Ù†Ø©</span>
        </div>
        }
        @if (reader.experience) {
        <div class="detail-item">
          <i class="icon">ğŸ“š</i>
          <span>{{ reader.experience }}</span>
        </div>
        }
      </div>
    </div>
  </div>

  <!-- Bio Section -->
  @if (reader.bio) {
  <div class="bio-section">
    <h2>Ù†Ø¨Ø°Ø© Ø¹Ù† Ø§Ù„Ù‚Ø§Ø±Ø¦</h2>
    <p class="bio-text">{{ reader.bio }}</p>
  </div>
  }

  <!-- Specializations Section -->
  @if (reader.specializations && reader.specializations.length > 0) {
  <div class="specializations-section">
    <h2>Ø§Ù„ØªØ®ØµØµØ§Øª</h2>
    <div class="specializations-list">
      @for (spec of reader.specializations; track spec) {
      <span class="specialization-tag">
        {{ spec }}
      </span>
      }
    </div>
  </div>
  }

  <!-- Achievements Section -->
  @if (reader.achievements && reader.achievements.length > 0) {
  <div class="achievements-section">
    <h2>Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</h2>
    <ul class="achievements-list">
      @for (achievement of reader.achievements; track achievement) {
      <li class="achievement-item">
        <i class="icon">ğŸ†</i>
        <span>{{ achievement }}</span>
      </li>
      }
    </ul>
  </div>
  }

  <!-- Social Media Section -->
  @if (reader.socialMedia) {
  <div class="social-media-section">
    <h2>ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„</h2>
    <div class="social-links">
      @if (reader.socialMedia.youtube) {
      <a [href]="reader.socialMedia.youtube" 
         target="_blank" 
         class="social-link youtube">
        <i class="icon">ğŸ“º</i>
        <span>ÙŠÙˆØªÙŠÙˆØ¨</span>
      </a>
      }
      @if (reader.socialMedia.facebook) {
      <a [href]="reader.socialMedia.facebook" 
         target="_blank" 
         class="social-link facebook">
        <i class="icon">ğŸ“˜</i>
        <span>ÙÙŠØ³Ø¨ÙˆÙƒ</span>
      </a>
      }
      @if (reader.socialMedia.instagram) {
      <a [href]="reader.socialMedia.instagram" 
         target="_blank" 
         class="social-link instagram">
        <i class="icon">ğŸ“·</i>
        <span>Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù…</span>
      </a>
      }
    </div>
  </div>
  }

  <!-- Audio Recordings Section -->
  @if (audioRecordings.length > 0) {
  <div class="audio-recordings-section">
    <h2>Ø§Ù„Ù…Ù‚Ø§Ø·Ø¹ Ø§Ù„ØµÙˆØªÙŠØ©</h2>
    <div class="recordings-grid">
      @for (recording of audioRecordings; track recording.id) {
      <app-recording-card 
        [recording]="recording"
        [isSelected]="isSelected(recording.id)"
        (selected)="selectRecording($event)">
      </app-recording-card>
      }
    </div>
  </div>
  }

  <!-- No Recordings Message -->
  @if (audioRecordings.length === 0) {
  <div class="no-recordings">
    <div class="no-recordings-content">
      <i class="icon">ğŸµ</i>
      <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‚Ø§Ø·Ø¹ ØµÙˆØªÙŠØ© Ù…ØªØ§Ø­Ø©</h3>
      <p>Ù„Ù… ÙŠØªÙ… Ø±ÙØ¹ Ø£ÙŠ Ù…Ù‚Ø§Ø·Ø¹ ØµÙˆØªÙŠØ© Ù„Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø¨Ø¹Ø¯</p>
    </div>
  </div>
  }
</div>
}

<!-- Loading State -->
@if (isLoading) {
<div class="loading-container">
  <div class="loading-spinner"></div>
  <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø±Ø¦...</p>
</div>
}

<!-- Error State -->
@if (error) {
<div class="error-container">
  <div class="error-content">
    <i class="icon">âš ï¸</i>
    <h3>Ø­Ø¯Ø« Ø®Ø·Ø£</h3>
    <p>{{ error }}</p>
    <button class="retry-button" (click)="loadReaderProfile(reader?.id || 0)">
      Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
    </button>
  </div>
</div>
}

<!-- Not Found State -->
@if (!isLoading && !error && !reader) {
<div class="not-found-container">
  <div class="not-found-content">
    <i class="icon">ğŸ‘¤</i>
    <h3>Ø§Ù„Ù‚Ø§Ø±Ø¦ ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯</h3>
    <p>Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ø±Ø¦ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨</p>
  </div>
</div>
}

<!-- Fixed Recording Player -->
<app-fixed-recording-player 
  [recording]="selectedRecording"
  [isVisible]="isPlayerOpen"
  (closeRequested)="closePlayer()">
</app-fixed-recording-player>
